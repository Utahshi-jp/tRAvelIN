<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>旅行情報入力フォーム</title>
    <!-- 外部CSSファイル -->
    <link rel="stylesheet" href="./css-project/travel_input_styles.css" />
    <!-- Flatpickr（カレンダー表示用のライブラリ）CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />
    <script
      src="https://yubinbango.github.io/yubinbango/yubinbango.js"
      charset="UTF-8"
    ></script>
  </head>
  <body>
    <!-- ローディングアニメーション（必要に応じてCSSで装飾） -->
    <div id="loading-overlay">
      <div class="spinner"></div>
    </div>

    <!-- ヘッダー部分 (ロゴ＆ナビゲーション) -->
    <div class="header">
      <img src="./image/travelinrogo.png" alt="TravelIN ロゴ" class="logo" />
      <!-- スケジュール表示とログイン・ユーザ登録 -->
      <div class="nav-bar">
        <!-- このリンクをクリックすると、スケジュール表示のプルダウンが出る想定 -->
        <a href="#schedule" class="schedule">スケジュール表示</a>
        <a href="#login" class="login" id="open-login-modal">ログイン・ユーザ登録</a>
      </div>
    </div>

    <!-- ログインモーダル -->
    <div id="login-modal" class="modal">
      <div class="modal-content">
        <span class="close-btn" id="close-login-modal">&times;</span>
        <h2>ログイン</h2>
        <input
          type="text"
          id="login-username"
          placeholder="ユーザ名"
          required
        />
        <div class="password-container">
          <input
            type="password"
            id="login-password"
            placeholder="パスワード"
            required
          />
          <span
            class="toggle-password"
            onclick="togglePasswordVisibility('login-password', this)"
            >&#x1f441;</span
          >
        </div>
        <button id="login-button">ログイン</button>
        <p class="register-btn">
          アカウントがありませんか？
          <a href="#" id="open-register-modal">新規登録</a>
        </p>
      </div>
    </div>

    <!-- 新規登録モーダル -->
    <div id="register-modal" class="modal">
      <div class="modal-content">
        <span class="close-btn" id="close-register-modal">&times;</span>
        <h2>新規登録</h2>
        <input
          type="text"
          id="register-username"
          placeholder="ユーザ名"
          required
        />
        <div class="password-container">
          <input
            type="password"
            id="register-password"
            placeholder="パスワード"
            required
          />
          <span
            class="toggle-password"
            onclick="togglePasswordVisibility('register-password', this)"
            >&#x1f441;</span
          >
        </div>
        <div class="password-container">
          <input
            type="password"
            id="register-password-confirm"
            placeholder="パスワード確認"
            required
          />
          <span
            class="toggle-password"
            onclick="togglePasswordVisibility('register-password-confirm', this)"
            >&#x1f441;</span
          >
        </div>
        <button id="register-button">登録</button>
      </div>
    </div>

    <!-- メインフォームコンテナ -->
    <div class="travel-form">
      <h1>旅行情報入力</h1>
      <div class="container">
        <!-- 出発地点入力 -->
        <div class="accordion">
          <label for="destination">出発地 <span style="color: red">*</span></label>
          <ul class="accordion-list">
            <li class="accordion-item" id="starting-point" data-for="destination">
              出発地点を入力
            </li>
            <div class="panel">
              <form class="h-adr">
                <span class="p-country-name" style="display: none">Japan</span>
                <table>
                  <span>〒 </span>
                  <input
                    type="text"
                    id="postal-code1"
                    class="p-postal-code"
                    size="3"
                    maxlength="3"
                  />
                  <span> - </span>
                  <input
                    type="text"
                    id="postal-code2"
                    class="p-postal-code"
                    size="4"
                    maxlength="4"
                  />
                </table>
                <label>
                  <span>都道府県</span>
                  <input type="text" id="region" class="p-region" /><br />
                </label>
                <label>
                  <span>市町村区</span>
                  <input type="text" id="locality" class="p-locality" /><br />
                </label>
                <label>
                  <span>町域</span>
                  <input
                    type="text"
                    id="street-address"
                    class="p-street-address"
                  /><br />
                </label>
                <label>
                  <span>以降の住所</span>
                  <input
                    type="text"
                    id="extended-address"
                    class="p-extended-address"
                  />
                </label>
              </form>
            </div>
          </ul>

          <!-- 旅行先アコーディオン (都道府県・市町村) -->
          <ul class="accordion-list">
            <li class="accordion-item" id="accordion-item" data-for="destination">
              旅行先を入力
            </li>
            <div class="panel">
              <div id="accordion-container"></div>
            </div>
          </ul>
        </div>

        <!-- 旅行期間入力 -->
        <div class="accordion">
          <label for="travel-period">旅行期間入力 <span style="color: red">*</span></label>
          <ul class="accordion-list">
            <li class="accordion-item" data-for="travel-period-button">
              旅行期間を入力
            </li>
            <div class="panel">
              <div id="calendar-container"></div>
            </div>
          </ul>
        </div>

        <!-- 人数・性別選択 -->
        <div class="accordion">
          <label for="people-gender">人数・性別選択 <span style="color: red">*</span></label>
          <ul class="accordion-list">
            <li class="accordion-item" data-for="people-gender">
              人数と性別を選択
            </li>
            <div class="panel">
              <div class="counter-group">
                <!-- 大人男性 -->
                <div class="counter">
                  <label>大人・男性</label>
                  <button class="decrement-people">−</button>
                  <input
                    type="number"
                    id="adult-male"
                    value="0"
                    min="0"
                    readonly
                  />
                  <button class="increment-people">＋</button>
                </div>
                <!-- 大人女性 -->
                <div class="counter">
                  <label>大人・女性</label>
                  <button class="decrement-people">−</button>
                  <input
                    type="number"
                    id="adult-female"
                    value="0"
                    min="0"
                    readonly
                  />
                  <button class="increment-people">＋</button>
                </div>
                <!-- 子供男性 -->
                <div class="counter">
                  <label>子供・男性</label>
                  <button class="decrement-people">−</button>
                  <input
                    type="number"
                    id="child-male"
                    value="0"
                    min="0"
                    readonly
                  />
                  <button class="increment-people">＋</button>
                </div>
                <!-- 子供女性 -->
                <div class="counter">
                  <label>子供・女性</label>
                  <button class="decrement-people">−</button>
                  <input
                    type="number"
                    id="child-female"
                    value="0"
                    min="0"
                    readonly
                  />
                  <button class="increment-people">＋</button>
                </div>
                <!-- 幼児 -->
                <div class="counter">
                  <label>幼児</label>
                  <button class="decrement-people">−</button>
                  <input
                    type="number"
                    id="infant"
                    value="0"
                    min="0"
                    readonly
                  />
                  <button class="increment-people">＋</button>
                </div>
                <!-- ペット -->
                <div class="counter">
                  <label>ペット</label>
                  <button class="decrement-people">−</button>
                  <input
                    type="number"
                    id="pet"
                    value="0"
                    min="0"
                    readonly
                  />
                  <button class="increment-people">＋</button>
                </div>
              </div>
            </div>
          </ul>
        </div>

        <!-- 予算入力 -->
        <div class="budget_1">
          <label for="budget">予算入力 <span style="color: red">*</span></label>
          <ul class="accordion-list">
            <li class="accordion-item" data-for="budget">
              予算を選択 ※最低5000円から
            </li>
            <div class="panel">
              <div class="counter-group">
                <!-- 1000円カウンター -->
                <div class="counter">
                  <label>1000円</label>
                  <button class="decrement-budget-thousand" data-value="1000">−</button>
                  <input type="text" id="budget" value="4000" readonly />
                  <button class="increment-budget" data-value="1000">＋</button>
                </div>
                <!-- 1万円カウンター -->
                <div class="counter">
                  <label>1万円</label>
                  <button class="decrement-budget" data-value="10000">−</button>
                  <input type="text" id="budget-thousand" value="0" readonly />
                  <button class="increment-budget" data-value="10000">＋</button>
                </div>
                <!-- 10万円カウンター -->
                <div class="counter">
                  <label>10万円</label>
                  <button class="decrement-budget" data-value="100000">−</button>
                  <input
                    type="text"
                    id="budget-hundred-thousand"
                    value="0"
                    readonly
                  />
                  <button class="increment-budget" data-value="100000">＋</button>
                </div>
              </div>
            </div>
          </ul>
        </div>

        <!-- ジャンル選択 -->
        <div class="accordion">
          <label for="genre">ジャンル選択 <span style="color: red">*</span></label>
          <ul class="accordion-list">
            <li class="accordion-item" data-for="genre-button">
              ジャンルを選択
            </li>
            <div class="panel">
              <div class="checkbox-group">
                <label class="checkbox">
                  <input type="checkbox" name="genre" value="food" /> 飲食
                </label>
                <label class="checkbox">
                  <input type="checkbox" name="genre" value="activity" />
                  アクティビティ
                </label>
                <label class="checkbox">
                  <input type="checkbox" name="genre" value="sightseeing" />
                  観光
                </label>
                <label class="checkbox">
                  <input type="checkbox" name="genre" value="shopping" />
                  イベント
                </label>
              </div>
            </div>
          </ul>
        </div>

        <!-- こだわり入力 -->
        <div>
          <label for="preferences">こだわり入力</label>
          <textarea
            id="preferences"
            class="accordion-input"
            placeholder="旅行のこだわりを入力"
          ></textarea>
        </div>
      </div>
    </div>

    <!-- プラン作成ボタン -->
    <div class="button-container">
      <button class="plan-button">プラン作成</button>
    </div>

    <!-- Flatpickr（カレンダー）のJS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ja.js"></script>

    <!-- メインスクリプト：人数カウンタやアコーディオン、ログインモーダルなど -->
    <script src="node-project/travel_input_script.js"></script>
  </body>
</html>
