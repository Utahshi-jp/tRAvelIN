-- User_master テーブル
CREATE TABLE User_master (
    user_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    name TEXT,
    password TEXT
);

-- Tentative_schedule テーブル
CREATE TABLE Tentative_schedule (
    tentative_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL,
    travel_area_prefectures TEXT,
    travel_area TEXT,
    start_day DATETIME,
    last_day DATETIME,
    budget INT,
    purpose TEXT,
    others TEXT,
    FOREIGN KEY (user_id) REFERENCES User_master(user_id) ON DELETE CASCADE
);

-- Confirmed_schedule テーブル
CREATE TABLE Confirmed_schedule (
    schedule_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL,
    title TEXT,
    weather TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES User_master(user_id) ON DELETE CASCADE
);

-- Detailed_schedule テーブル
CREATE TABLE Detailed_schedule (
    schedule_id INT NOT NULL,
    schedule_order INT NOT NULL,
    start_time TIMESTAMP,
    last_time TIMESTAMP,
    weather TEXT,
    place TEXT,
    activity TEXT,
    url TEXT,
    PRIMARY KEY (schedule_id, schedule_order)
);

-- travel_companion テーブル
CREATE TABLE travel_companion (
    companion_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    tentative_id INT NOT NULL,
    adultmale INT,
    boy INT,
    adultfemale INT,
    girl INT,
    infant INT,
    pet INT,
    FOREIGN KEY (tentative_id) REFERENCES Tentative_schedule(tentative_id) ON DELETE CASCADE
);